# Videometadatabase
A NodeJS based website using JSON files as the base. Also includes scripts to make compiled JSON files from files generated by [youtube-dl](https://ytdl-org.github.io/youtube-dl/index.html) / [yt-dlp](https://github.com/yt-dlp/yt-dlp).

[Website running the script](https://finnrepo.a2hosted.com/YTPMV_Database)

[JSON files used for the site](https://www.dropbox.com/sh/veadx97ot0pmhvs/AACiy1Pqa7dMj33v-yqG_1GYa?dl=0)

=========================

__jsonFolderReader__ - The script used for processing the individual metadata files generated by youtube-dl / yt-dlp. Strips unneeded values and compiles them.

__jsonMonthDivider__ - The script that further processes the metadata. Takes all the metadata files generated by _jsonFolderReader_ and recompiles them based on release months. Adds information provided by JSON files generated by _nicoTagExtractor,_ _youtubeUserLogger,_ and _youtubeUserListCompressor._ Also leaves out entries related to certain channels based on a JSON list of channel IDs (not currently present in this repository).

__jsonDownloadLister__ - The script that generates a list of downloaded metadata for youtube-dl / yt-dlp. Utilizes the metadata files generated by _jsonFolderReader._

__nicoTagExtractor__ - The script that gathers tags from Niconico videos. Utilizes the metadata files generated by either _jsonFolderReader_ or _jsonMonthDivider,_ the script scrolls through the entries and picks Niconico IDs among them.

__youtubeUserLogger__ - The script that bundles IDs shared by a same YouTube user together. Utilizes the metadata files generated by _jsonFolderReader_ and does not check the active web pages.

__youtubeUserListCompressor__ - The script that strips out some repeating information and entries regarding users excluded from the database. The resulting metadata file is then used for to provide YouTube user IDs for the database. Utilizes the metadata file generated by _youtubeUserLogger._

__metadataArchive__ - The script that is used to run the database. Utilizes the metadata files generated by _jsonMonthDivider_ and _youtubeUserListCompressor._

=========================

In order to have the database running correctly, you first need to have the youtube-dl / yt-dlp metadata files already downloaded. Then the scripts have to be ran in the following order:

1. _jsonFolderReader_
2. _youtubeUserLogger_
3. _youtubeUserListCompressor_
4. _jsonMonthDivider_
5. _metadataArchive_

Running _nicoTagExtractor_ is optional and wouldn't be a requisite to run the database. But if this script is to be used, it has to be done before running _jsonMonthDivider._

Running _jsonDownloadLister_ is also optional and wouldn't be a requisite to run the database. This is only used to make gathering the metadata for videos with youtube-dl / yt-dlp easier and less time-consuming. If this script is to be used, it's meant to be done after running _jsonFolderReader._